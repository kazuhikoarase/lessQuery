{"version":3,"file":"lessq.js","sources":["../src/lessq.ts"],"sourcesContent":["//\n// lessQuery\n//\n// Copyright (c) 2017 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n\n/// <reference path=\"../lessq.d.ts\" />\n\nconst debug = location.hash == '#debug';\n\nconst cacheIdKey = '.lessqCacheId';\nlet cacheIdSeq = 0;\nconst cache : { [key : number] :any } = {};\n\nconst getCache = function(elm : { [ key : string ] : number }) {\n  let cacheId = elm[cacheIdKey];\n  if (typeof cacheId == 'undefined') {\n    elm[cacheIdKey] = cacheId = cacheIdSeq++;\n    cache[cacheId] = debug? { e : elm } : {};\n  }\n  return cache[cacheId];\n};\n\ntype CacheElement = any;//{ [ key : string ] : number } & Element;\n\nconst hasCache = function(elm : CacheElement) {\n  return typeof elm[cacheIdKey] != 'undefined';\n};\n\nif (debug) {\n  let lastKeys : { [k : string] : boolean } = {};\n  const showCacheCount = function() {\n    let cnt = 0;\n    const keys : { [k : string]: boolean } = {};\n    for (let k in cache) {\n      cnt += 1;\n      if (!lastKeys[k]) {\n        console.log(cache[k]);\n      }\n      keys[k] = true;\n    }\n    lastKeys = keys;\n    console.log('cacheCount:' + cnt);\n    window.setTimeout(showCacheCount, 5000);\n  };\n  showCacheCount();\n}\n\nconst removeCache = function(elm : CacheElement) {\n\n  if (typeof elm[cacheIdKey] != 'undefined') {\n\n    // remove all listeners\n    const cacheId = elm[cacheIdKey];\n    const listenerMap = cache[cacheId].listenerMap;\n    for (let type in listenerMap) {\n      const listeners = listenerMap[type];\n      for (let i = 0; i < listeners.length; i += 1) {\n        elm.removeEventListener(type, listeners[i]);\n      }\n    }\n\n    // delete refs\n    delete elm[cacheIdKey];\n    delete cache[cacheId];\n  }\n\n  while (elm.firstChild) {\n    removeCache(elm.firstChild);\n    elm.removeChild(elm.firstChild);\n  }\n};\n\nconst getData = function(elm : CacheElement) {\n  if (!getCache(elm).data) { getCache(elm).data = {}; }\n  return getCache(elm).data;\n};\n\nconst getListeners = function(elm : CacheElement, type : string) {\n  if (!getCache(elm).listenerMap) {\n    getCache(elm).listenerMap = {}; }\n  if (!getCache(elm).listenerMap[type]) {\n    getCache(elm).listenerMap[type] = []; }\n  return getCache(elm).listenerMap[type];\n};\n\n// add / remove event listener.\nconst addEventListener = function(elm : CacheElement, type : string, listener : any, add : boolean) {\n  const listeners = getListeners(elm, type);\n  const newListeners = [];\n  for (let i = 0; i < listeners.length; i += 1) {\n    if (listeners[i] != listener) {\n      newListeners.push(listeners[i]);\n    }\n  }\n  if (add) { newListeners.push(listener); }\n  getCache(elm).listenerMap[type] = newListeners;\n  return true;\n};\n\nconst CustomEvent : any = {\n  preventDefault : function() { this._pD = true; },\n  stopPropagation : function() { this._sP = true; },\n  stopImmediatePropagation : function() { this._sIp = true; }\n};\n\nconst trigger = function(elm : CacheElement, type : string, data : any) {\n  const event = { type : type, target : elm, currentTarget : null,\n      _pD : false, _sP : false, _sIp : false, __proto__ : CustomEvent };\n  for (let e = elm; e != null; e = e.parentNode) {\n    if (!hasCache(e) ) { continue; }\n    if (!getCache(e).listenerMap) { continue; }\n    if (!getCache(e).listenerMap[type]) { continue; }\n    event.currentTarget = e;\n    const listeners = getCache(e).listenerMap[type];\n    for (let i = 0; i < listeners.length; i += 1) {\n      listeners[i].call(e, event, data);\n      if (event._sIp) { return; }\n    }\n    if (event._sP) { return; }\n  }\n};\n\nconst data = function(elm : any, kv : string|any, v? : any) {\n  if (v === undefined) {\n    if (typeof kv == 'string') return getData(elm)[kv];\n    for (let k in kv) { getData(elm)[k] = kv[k]; }\n  } else {\n    getData(elm)[kv] = v;\n  }\n  return elm;\n};\n\nconst extend = function(o1 : any, o2 : any) {\n  for (let k in o2) { o1[k] = o2[k]; } return o1;\n};\n\nconst each = function(it : any, callback : (k : any, v : any) => void) {\n  if (typeof it.splice == 'function') {\n    for (let i = 0; i < it.length; i += 1) { callback(i, it[i]); }\n  } else {\n    for (let k in it) { callback(k, it[k]); }\n  }\n};\n\nconst grep = function(list : any[], accept : (item : any) => boolean) {\n  const newList = [];\n  for (let i = 0; i < list.length; i += 1) {\n    const item = list[i];\n    if (accept(item) ) {\n      newList.push(item);\n    }\n  }\n  return newList;\n};\n\nconst addClass = function(elm : HTMLElement, className : string, add? : boolean) {\n  const classes = (elm.getAttribute('class') || '').split(/\\s+/g);\n  let newClasses = '';\n  for (let i = 0; i < classes.length; i+= 1) {\n    if (classes[i] == className) { continue; }\n    newClasses += ' ' + classes[i];\n  }\n  if (add) { newClasses += ' ' + className; }\n  elm.setAttribute('class', newClasses);\n};\n\nconst hasClass = function(elm: HTMLElement, className : string) {\n  const classes = (elm.getAttribute('class') || '').split(/\\s+/g);\n  for (let i = 0; i < classes.length; i+= 1) {\n    if (classes[i] == className) { return true; }\n  }\n  return false;\n};\n\nconst matches = function(elm: HTMLElement, selector : string) {\n  if (elm.nodeType != 1) {\n    return false;\n  } else if (!selector) {\n    return true;\n  }\n  const sels = selector.split(/[,\\s]+/g);\n  for (let i = 0; i < sels.length; i += 1) {\n    const sel = sels[i];\n    if (sel.substring(0, 1) == '#') {\n      throw 'not supported:' + sel;\n    } else if (sel.substring(0, 1) == '.') {\n      if (hasClass(elm, sel.substring(1) ) ) {\n        return true;\n      }\n    } else {\n      if (elm.tagName.toUpperCase() == sel.toUpperCase() ) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nconst parser = new window.DOMParser();\n\nconst html = function(html? : string) {\n  const doc = parser.parseFromString(\n      '<div xmlns=\"http://www.w3.org/1999/xhtml\">' + html + '</div>',\n      'text/xml').firstChild!;\n  const elms : any = [];\n  while (doc.firstChild) {\n    elms.push(doc.firstChild);\n    doc.removeChild(doc.firstChild);\n  }\n  elms.__proto__ = fn;\n  return elms;\n};\n\nconst pxToNum = function(px : any) {\n  if (typeof px != 'string' || px.length <= 2 ||\n      px.charAt(px.length - 2) != 'p' ||\n      px.charAt(px.length - 1) != 'x') {\n    throw 'illegal px:' + px;\n  }\n  return +px.substring(0, px.length - 2);\n};\n\nconst buildQuery = function(data : any) {\n  let query = '';\n  for (let k in data) {\n    if (query.length > 0) {\n      query += '&';\n    }\n    query += window.encodeURIComponent(k);\n    query += '=';\n    query += window.encodeURIComponent(data[k]);\n  }\n  return query;\n};\n\nconst parseResponse = function(this : any) {\n\n  let contentType = this.getResponseHeader('content-type');\n  if (contentType != null) {\n    contentType = contentType.replace(/\\s*;.+$/, '').toLowerCase();\n  }\n\n  if (contentType == 'text/xml' ||\n        contentType == 'application/xml') {\n    return parser.parseFromString(this.responseText, 'text/xml');\n  } else if (contentType == 'text/json' ||\n      contentType == 'application/json') {\n    return JSON.parse(this.responseText);\n  } else {\n    return this.response;\n  }\n};\n\nconst ajax = function(params : LessQueryXHRParams) {\n\n  params = extend({\n    url: '',\n    method : 'GET',\n    contentType : 'application/x-www-form-urlencoded;charset=UTF-8',\n    cache: true,\n    processData: true,\n    async : true\n  }, params);\n\n  if (!params.async) {\n    // force async.\n    throw 'not supported.';\n  }\n\n  const method = params.method!.toUpperCase();\n  let data = null;\n  let contentType = params.contentType;\n  if (method == 'POST' || method == 'PUT') {\n    data = (typeof params.data == 'object' && params.processData)?\n        buildQuery(params.data) : params.data;\n  } else {\n    contentType = false;\n  }\n\n  const xhr = params.xhr? params.xhr() : new window.XMLHttpRequest();\n  xhr.open(method, params.url, params.async);\n  if (typeof contentType === 'string') {\n    xhr.setRequestHeader('Content-Type', contentType);\n  }\n  xhr.onreadystatechange = function() {\n    if(xhr.readyState == window.XMLHttpRequest.DONE) {\n      try {\n        if (xhr.status == 200) {\n          done.call(xhr, parseResponse.call(this) );\n        } else {\n          fail.call(xhr);\n        }\n      } finally {\n        always.call(xhr);\n      }\n    }\n  };\n\n  // call later\n  window.setTimeout(function() { xhr.send(data); }, 0);\n\n  // callbacks\n  let done = function(_data : any) {};\n  let fail = function() {};\n  let always = function() {};\n\n  const $ = {\n    done : function(callback : (data : any) => void) { done = callback; return $; },\n    fail : function(callback : () => void) { fail = callback; return $; },\n    always : function(callback : () => void) { always = callback; return $; },\n    abort : function() { xhr.abort(); return $; }\n  };\n  return $;\n};\n\ntype FnType = HTMLElement & { [k : string] : any };\n\n// 1. for single element\nlet fn = {\n  attr : function(this : FnType, kv : string|any) {\n    if (arguments.length == 1) {\n      if (typeof kv == 'string') return this.getAttribute(kv);\n      for (let k in kv) { this.setAttribute(k, kv[k]); }\n    } else if (arguments.length == 2) {\n      this.setAttribute(kv, arguments[1]);\n    }\n    return this;\n  },\n  prop : function(this : FnType, kv : string|any) {\n    if (arguments.length == 1) {\n      if (typeof kv == 'string') return this[kv];\n      for (let k in kv) { this[k] = kv[k]; }\n    } else if (arguments.length == 2) {\n      this[kv] = arguments[1];\n    }\n    return this;\n  },\n  css : function(this : any, kv : string|any) {\n    if (arguments.length == 1) {\n      if (typeof kv == 'string') return this.style[kv];\n      for (let k in kv) { this.style[k] = kv[k]; }\n    } else if (arguments.length == 2) {\n      this.style[kv] = arguments[1];\n    }\n    return this;\n  },\n  data : function() {\n    const args : any = [ this ];\n    for (let i = 0; i < arguments.length; i += 1) {\n      args.push(arguments[i]);\n    }; \n    return data.apply(null, args);\n  },\n  val : function(this : any) : string|any {\n    if (arguments.length == 0) {\n      return this.value || '';\n    } else if (arguments.length == 1) {\n      this.value = arguments[0];\n    }\n    return this;\n  },\n  on : function(this : any, type : string, listener : any) {\n    const types = type.split(/\\s+/g);\n    for (let i = 0; i < types.length; i += 1) {\n      this.addEventListener(types[i], listener);\n      addEventListener(this, types[i], listener, true);\n    }\n    return this;\n  },\n  off : function(this : any, type : string, listener : any) {\n    const types = type.split(/\\s+/g);\n    for (let i = 0; i < types.length; i += 1) {\n      this.removeEventListener(types[i], listener);\n      addEventListener(this, types[i], listener, false);\n    }\n    return this;\n  },\n  trigger : function(type : string, data : any) {\n    trigger(this, type, data);\n    return this;\n  },\n  offset : function(this : any) {\n    const off = { left : 0, top : 0 };\n    let base = null;\n    for (let e = this; e.parentNode != null; e = e.parentNode) {\n      if (e.offsetParent != null) {\n        base = e;\n        break;\n      }\n    }\n    if (base != null) {\n      for (let e = base; e.offsetParent != null; e = e.offsetParent) {\n        off.left += e.offsetLeft;\n        off.top += e.offsetTop;\n      }\n    }\n    for (let e = this; e.parentNode != null &&\n          e != document.body; e = e.parentNode) {\n      off.left -= e.scrollLeft;\n      off.top -= e.scrollTop;\n    }\n    return off;\n  },\n  append : function(this : any, elms : any) {\n    if (typeof elms == 'string') {\n      elms = html(elms);\n    }\n    for (let i = 0; i < elms.length; i += 1) {\n      this.appendChild(elms[i]);\n    }\n    return this;\n  },\n  prepend : function(this : any, elms : any) {\n    if (typeof elms == 'string') {\n      elms = html(elms);\n    }\n    for (let i = 0; i < elms.length; i += 1) {\n      if (this.firstChild) {\n        this.insertBefore(elms[i], this.firstChild);\n      } else {\n        this.appendChild(elms[i]);\n      }\n    }\n    return this;\n  },\n  insertBefore : function(elms : any) {\n    const elm = elms[0];\n    elm.parentNode.insertBefore(this, elm);\n    return this;\n  },\n  insertAfter : function(elms : any) {\n    const elm = elms[0];\n    if (elm.nextSibling) {\n      elm.parentNode.insertBefore(this, elm.nextSibling);\n    } else {\n      elm.parentNode.appendChild(this);\n    }\n    return this;\n  },\n  remove : function(this : any) {\n    if (this.parentNode) { this.parentNode.removeChild(this); }\n    removeCache(this);\n    return this;\n  },\n  detach : function(this : any) {\n    if (this.parentNode) { this.parentNode.removeChild(this); }\n    return this;\n  },\n  parent : function(this : any) {\n    return $(this.parentNode);\n  },\n  closest : function(this : any, selector : string) {\n    for (let e = this; e != null; e = e.parentNode) {\n      if (matches(e, selector) ) {\n        return $(e);\n      }\n    }\n    return $();\n  },\n  find : function(this : any, selector : string) {\n    const elms : any = [];\n    const childNodes = this.querySelectorAll(selector);\n    for (let i = 0; i < childNodes.length; i += 1) {\n      elms.push(childNodes.item(i) );\n    }\n    elms.__proto__ = fn;\n    return elms;\n  },\n  children : function(this : any, selector : string) {\n    const elms : any = [];\n    const childNodes = this.childNodes;\n    for (let i = 0; i < childNodes.length; i += 1) {\n      if (matches(childNodes.item(i), selector) ) {\n        elms.push(childNodes.item(i) );\n      }\n    }\n    elms.__proto__ = fn;\n    return elms;\n  },\n  index : function(selector? : string) {\n    return Array.prototype.indexOf.call(\n        $(this).parent().children(selector), this);\n  },\n  clone : function(this : any) { return $(this.cloneNode(true) ); },\n  focus : function() { this.focus(); return this; },\n  select : function() { this.select(); return this; },\n  submit : function() { this.submit(); return this; },\n  scrollLeft : function() {\n    if (arguments.length == 0) return this.scrollLeft;\n    this.scrollLeft = arguments[0]; return this;\n  },\n  scrollTop : function() {\n    if (arguments.length == 0) return this.scrollTop;\n    this.scrollTop = arguments[0]; return this;\n  },\n  html : function(this : any) {\n    if (arguments.length == 0) return this.innerHTML;\n    this.innerHTML = arguments[0]; return this;\n  },\n  text : function(this : any) {\n    if (typeof this.textContent != 'undefined') {\n      if (arguments.length == 0) return this.textContent;\n      this.textContent = arguments[0]; return this;\n    } else {\n      if (arguments.length == 0) return this.innerText;\n      this.innerText = arguments[0]; return this;\n    }\n  },\n  outerWidth : function(this : any, margin? : boolean) {\n    const w = this.offsetWidth;\n    if (margin) {\n      const cs = window.getComputedStyle(this, null);\n      return w + pxToNum(cs.marginLeft) + pxToNum(cs.marginRight);\n    }\n    return w;\n  },\n  innerWidth : function(this : any) {\n    const cs = window.getComputedStyle(this, null);\n    return this.offsetWidth -\n      pxToNum(cs.borderLeftWidth) - pxToNum(cs.borderRightWidth);\n  },\n  width : function(this : any) {\n    if (this == window) return this.innerWidth;\n    const cs = window.getComputedStyle(this, null);\n    return this.offsetWidth -\n      pxToNum(cs.borderLeftWidth) - pxToNum(cs.borderRightWidth) -\n      pxToNum(cs.paddingLeft) - pxToNum(cs.paddingRight);\n  },\n  outerHeight : function(this : any, margin? : boolean) {\n    const h = this.offsetHeight;\n    if (margin) {\n      const cs = window.getComputedStyle(this, null);\n      return h + pxToNum(cs.marginTop) + pxToNum(cs.marginBottom);\n    }\n    return h;\n  },\n  innerHeight : function(this : any) {\n    const cs = window.getComputedStyle(this, null);\n    return this.offsetHeight -\n      pxToNum(cs.borderTopWidth) - pxToNum(cs.borderBottomWidth);\n  },\n  height : function(this : any) {\n    if (this == window) return this.innerHeight;\n    const cs = window.getComputedStyle(this, null);\n    return this.offsetHeight -\n      pxToNum(cs.borderTopWidth) - pxToNum(cs.borderBottomWidth) -\n      pxToNum(cs.paddingTop) - pxToNum(cs.paddingBottom);\n  },\n  addClass : function(this : any, className : string) {\n    addClass(this, className, true); return this;\n  },\n  removeClass : function(this : any, className : string) {\n    addClass(this, className, false); return this;\n  },\n  hasClass : function(this : any, className : string) {\n    return hasClass(this, className);\n  }\n};\n\n// 2. to array\nconst fnRef : any = fn;\neach(fnRef, function(name, func) {\n  fnRef[name] = function() {\n    let newRet : any = null;\n    for (let i = 0; i < this.length; i += 1) {\n      const elm = this[i];\n      const ret = func.apply(elm, arguments);\n      if (elm !== ret) {\n        if (ret != null && ret.__proto__ == fn) {\n          if (newRet == null) { newRet = []; }\n          newRet = newRet.concat(ret);\n        } else {\n          return ret;\n        }\n      }\n    }\n    if (newRet != null) {\n      newRet.__proto__ = fn;\n      return newRet;\n    }\n    return this;\n  };\n});\n\n// 3. for array\nfn = extend(fn, {\n  each : function(callback : (i : number) => any) {\n    for (let i = 0; i < this.length; i += 1) {\n      callback.call(this[i], i);\n    }\n    return this;\n  },\n  first : function() {\n    return $(this.length > 0? this[0] : null);\n  },\n  last : function() {\n    return $(this.length > 0? this[this.length - 1] : null);\n  }\n});\n\nconst $ : any = function(target? : any) {\n\n  if (typeof target == 'function') {\n\n    // ready\n    return $(document).on('DOMContentLoaded', target);\n\n  } else if (typeof target == 'string') {\n\n    if (target.charAt(0) == '<') {\n\n      // dom creation\n      return html(target);\n\n    } else {\n\n      // query\n      const childNodes = document.querySelectorAll(target);\n      const elms : any = [];\n      for (let i = 0; i < childNodes.length; i += 1) {\n        elms.push(childNodes.item(i) );\n      }\n      elms.__proto__ = fn;\n      return elms;\n    }\n\n  } else if (typeof target == 'object' && target != null) {\n\n    if (target.__proto__ == fn) {\n      return target;\n    } else {\n      const elms : any = [];\n      elms.push(target);\n      elms.__proto__ = fn;\n      return elms;\n    }\n\n  } else {\n\n    const elms : any = [];\n    elms.__proto__ = fn;\n    return elms;\n  }\n};\n\nconst lessQuery : LessQueryStatic = extend($, { fn , extend , each , grep , data, ajax });\n\nexport default lessQuery;\n"],"names":["debug","cacheIdKey","cacheIdSeq","cache","getCache","elm","cacheId","hasCache","lastKeys","showCacheCount","cnt","keys","k","removeCache","listenerMap","type","listeners","i","getData","getListeners","addEventListener","listener","add","newListeners","CustomEvent","trigger","data","event","e","kv","v","extend","o1","o2","each","it","callback","grep","list","accept","newList","item","addClass","className","classes","newClasses","hasClass","matches","selector","sels","sel","parser","html","doc","elms","fn","pxToNum","px","buildQuery","query","parseResponse","contentType","ajax","params","method","xhr","done","fail","always","_data","$","args","types","off","base","childNodes","margin","w","cs","h","fnRef","name","func","newRet","ret","target","lessQuery"],"mappings":"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"}