{"version":3,"file":"lessq.js","sources":["../src/lessq.ts"],"sourcesContent":["//\n// lessQuery\n//\n// Copyright (c) 2017 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n\nconst debug = location.hash == '#debug';\n\nconst cacheIdKey = '.lessqCacheId';\nlet cacheIdSeq = 0;\nconst cache : any = {};\n\nconst getCache = function(elm : any) {\n  let cacheId = elm[cacheIdKey];\n  if (typeof cacheId == 'undefined') {\n    elm[cacheIdKey] = cacheId = cacheIdSeq++;\n    cache[cacheId] = debug? { e : elm } : {};\n  }\n  return cache[cacheId];\n};\n\nconst hasCache = function(elm : any) {\n  return typeof elm[cacheIdKey] != 'undefined';\n};\n\nif (debug) {\n  let lastKeys : any = {};\n  const showCacheCount = function() {\n    let cnt = 0;\n    let keys : any = {};\n    for (let k in cache) {\n      cnt += 1;\n      if (!lastKeys[k]) {\n        console.log(cache[k]);\n      }\n      keys[k] = true;\n    }\n    lastKeys = keys;\n    console.log('cacheCount:' + cnt);\n    window.setTimeout(showCacheCount, 5000);\n  };\n  showCacheCount();\n}\n\nconst removeCache = function(elm : any) {\n\n  if (typeof elm[cacheIdKey] != 'undefined') {\n\n    // remove all listeners\n    const cacheId = elm[cacheIdKey];\n    const listenerMap = cache[cacheId].listenerMap;\n    for (let type in listenerMap) {\n      const listeners = listenerMap[type];\n      for (let i = 0; i < listeners.length; i += 1) {\n        elm.removeEventListener(type, listeners[i]);\n      }\n    }\n\n    // delete refs\n    delete elm[cacheIdKey];\n    delete cache[cacheId];\n  }\n\n  while (elm.firstChild) {\n    removeCache(elm.firstChild);\n    elm.removeChild(elm.firstChild);\n  }\n};\n\nconst getData = function(elm : any) {\n  if (!getCache(elm).data) { getCache(elm).data = {}; }\n  return getCache(elm).data;\n};\n\nconst getListeners = function(elm : any, type : string) {\n  if (!getCache(elm).listenerMap) {\n    getCache(elm).listenerMap = {}; }\n  if (!getCache(elm).listenerMap[type]) {\n    getCache(elm).listenerMap[type] = []; }\n  return getCache(elm).listenerMap[type];\n};\n\n// add / remove event listener.\nconst addEventListener = function(elm : any, type : string, listener : () => void, add : boolean) {\n  const listeners = getListeners(elm, type);\n  const newListeners = [];\n  for (let i = 0; i < listeners.length; i += 1) {\n    if (listeners[i] != listener) {\n      newListeners.push(listeners[i]);\n    }\n  }\n  if (add) { newListeners.push(listener); }\n  getCache(elm).listenerMap[type] = newListeners;\n  return true;\n};\n\nconst CustomEvent : any = {\n  preventDefault : function() { this._pD = true; },\n  stopPropagation : function() { this._sP = true; },\n  stopImmediatePropagation : function() { this._sIp = true; }\n};\n\nconst trigger = function(elm : any, type : string, data : any) {\n  const event = { type : type, target : elm, currentTarget : null,\n      _pD : false, _sP : false, _sIp : false, __proto__ : CustomEvent };\n  for (let e = elm; e != null; e = e.parentNode) {\n    if (!hasCache(e) ) { continue; }\n    if (!getCache(e).listenerMap) { continue; }\n    if (!getCache(e).listenerMap[type]) { continue; }\n    event.currentTarget = e;\n    const listeners = getCache(e).listenerMap[type];\n    for (let i = 0; i < listeners.length; i += 1) {\n      listeners[i].call(e, event, data);\n      if (event._sIp) { return; }\n    }\n    if (event._sP) { return; }\n  }\n};\n\nconst data = function(elm : any, kv : any) {\n  if (arguments.length == 2) {\n    if (typeof kv == 'string') return getData(elm)[kv];\n    for (let k in kv) { getData(elm)[k] = kv[k]; }\n  } else if (arguments.length == 3) {\n    getData(elm)[kv] = arguments[2];\n  }\n  return elm;\n};\n\n//type Extend<S, T extends S> = (o1 : S, o2: T) => T;\n\nconst extend = function<S,T, U extends S & T>(o1 : S, o2 : T) : U {\n  const _o1 : any = o1;\n  for (let k in o2) { _o1[k] = o2[k]; } return _o1;\n};\n\nconst each = function(it : any, callback : (i : number | string, o : any) => void) {\n  if (typeof it.splice == 'function') {\n    for (let i = 0; i < it.length; i += 1) { callback(i, it[i]); }\n  } else {\n    for (let k in it) { callback(k, it[k]); }\n  }\n};\n\nconst grep = function(list : any[], accept : (o : any) => boolean) {\n  const newList = [];\n  for (let i = 0; i < list.length; i += 1) {\n    const item = list[i];\n    if (accept(item) ) {\n      newList.push(item);\n    }\n  }\n  return newList;\n};\n\nconst addClass = function(elm : any, className : string, add? : boolean) {\n  const classes = (elm.getAttribute('class') || '').split(/\\s+/g);\n  let newClasses = '';\n  for (let i = 0; i < classes.length; i+= 1) {\n    if (classes[i] == className) { continue; }\n    newClasses += ' ' + classes[i];\n  }\n  if (add) { newClasses += ' ' + className; }\n  elm.setAttribute('class', newClasses);\n};\n\nconst hasClass = function(elm : any, className : string) {\n  const classes = (elm.getAttribute('class') || '').split(/\\s+/g);\n  for (let i = 0; i < classes.length; i+= 1) {\n    if (classes[i] == className) { return true; }\n  }\n  return false;\n};\n\nconst matches = function(elm : any, selector : string) {\n  if (elm.nodeType != 1) {\n    return false;\n  } else if (!selector) {\n    return true;\n  }\n  const sels = selector.split(/[,\\s]+/g);\n  for (let i = 0; i < sels.length; i += 1) {\n    const sel = sels[i];\n    if (sel.substring(0, 1) == '#') {\n      throw 'not supported:' + sel;\n    } else if (sel.substring(0, 1) == '.') {\n      if (hasClass(elm, sel.substring(1) ) ) {\n        return true;\n      }\n    } else {\n      if (elm.tagName.toUpperCase() == sel.toUpperCase() ) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nconst parser = new window.DOMParser();\n\nconst html = function(html : string) {\n  const doc : any = parser.parseFromString(\n      '<div xmlns=\"http://www.w3.org/1999/xhtml\">' + html + '</div>',\n      'text/xml').firstChild;\n  const elms : any = [];\n  while (doc.firstChild) {\n    elms.push(doc.firstChild);\n    doc.removeChild(doc.firstChild);\n  }\n  elms.__proto__ = fn;\n  return elms;\n};\n\nconst pxToNum = function(px : any) {\n  if (typeof px != 'string' || px.length <= 2 ||\n      px.charAt(px.length - 2) != 'p' ||\n      px.charAt(px.length - 1) != 'x') {\n    throw 'illegal px:' + px;\n  }\n  return +px.substring(0, px.length - 2);\n};\n\nconst buildQuery = function(data : any) {\n  let query = '';\n  for (let k in data) {\n    if (query.length > 0) {\n      query += '&';\n    }\n    query += window.encodeURIComponent(k);\n    query += '=';\n    query += window.encodeURIComponent(data[k]);\n  }\n  return query;\n};\n\nconst parseResponse = function(this : any) {\n\n    let contentType = this.getResponseHeader('content-type');\n  if (contentType != null) {\n    contentType = contentType.replace(/\\s*;.+$/, '').toLowerCase();\n  }\n\n  if (contentType == 'text/xml' ||\n        contentType == 'application/xml') {\n    return parser.parseFromString(this.responseText, 'text/xml');\n  } else if (contentType == 'text/json' ||\n      contentType == 'application/json') {\n    return JSON.parse(this.responseText);\n  } else {\n    return this.response;\n  }\n};\n\nconst ajax = function(params : any) {\n\n  params = extend({\n    url: '',\n    method : 'GET',\n    contentType : 'application/x-www-form-urlencoded;charset=UTF-8',\n    cache: true,\n    processData: true,\n    async : true\n  }, params);\n\n  if (!params.async) {\n    // force async.\n    throw 'not supported.';\n  }\n\n  const method = params.method.toUpperCase();\n  let data = null;\n  let contentType = params.contentType;\n  if (method == 'POST' || method == 'PUT') {\n    data = (typeof params.data == 'object' && params.processData)?\n        buildQuery(params.data) : params.data;\n  } else {\n    contentType = false;\n  }\n\n  const xhr = params.xhr? params.xhr() : new window.XMLHttpRequest();\n  xhr.open(method, params.url, params.async);\n  if (contentType !== false) {\n    xhr.setRequestHeader('Content-Type', contentType);\n  }\n  xhr.onreadystatechange = function() {\n    if(xhr.readyState == window.XMLHttpRequest.DONE) {\n      try {\n        if (xhr.status == 200) {\n          done.call(xhr, parseResponse.call(this) );\n        } else {\n          fail.call(xhr);\n        }\n      } finally {\n        always.call(xhr);\n      }\n    }\n  };\n\n  // call later\n  window.setTimeout(function() { xhr.send(data); }, 0);\n\n  // callbacks\n  let done = function(_data : any) {};\n  let fail = function() {};\n  let always = function() {};\n\n  const $ = {\n    done : function(callback : any) { done = callback; return $; },\n    fail : function(callback : any) { fail = callback; return $; },\n    always : function(callback : any) { always = callback; return $; },\n    abort : function() { xhr.abort(); return $; }\n  };\n  return $;\n};\n\n// 1. for single element\nlet fn = {\n  attr : function(this : any, kv : any) {\n    if (arguments.length == 1) {\n      if (typeof kv == 'string') return this.getAttribute(kv);\n      for (let k in kv) { this.setAttribute(k, kv[k]); }\n    } else if (arguments.length == 2) {\n      this.setAttribute(kv, arguments[1]);\n    }\n    return this;\n  },\n  prop : function(this : any, kv : any) {\n    if (arguments.length == 1) {\n      if (typeof kv == 'string') return this[kv];\n      for (let k in kv) { this[k] = kv[k]; }\n    } else if (arguments.length == 2) {\n      this[kv] = arguments[1];\n    }\n    return this;\n  },\n  css : function(this : any, kv : any) {\n    if (arguments.length == 1) {\n      if (typeof kv == 'string') return this.style[kv];\n      for (let k in kv) { this.style[k] = kv[k]; }\n    } else if (arguments.length == 2) {\n      this.style[kv] = arguments[1];\n    }\n    return this;\n  },\n  data : function(this : any, _kv : any) {\n    const args : any = [ this ];\n    for (let i = 0; i < arguments.length; i += 1) {\n      args.push(arguments[i]);\n    }; \n    return data.apply(null, args);\n  },\n  val : function(this : any) {\n    if (arguments.length == 0) {\n      return this.value || '';\n    } else if (arguments.length == 1) {\n      this.value = arguments[0];\n    }\n    return this;\n  },\n  on : function(this : any, type : string, listener : any) {\n    const types = type.split(/\\s+/g);\n    for (let i = 0; i < types.length; i += 1) {\n      this.addEventListener(types[i], listener);\n      addEventListener(this, types[i], listener, true);\n    }\n    return this;\n  },\n  off : function(this : any, type : string, listener : any) {\n    const types = type.split(/\\s+/g);\n    for (let i = 0; i < types.length; i += 1) {\n      this.removeEventListener(types[i], listener);\n      addEventListener(this, types[i], listener, false);\n    }\n    return this;\n  },\n  trigger : function(type : string, data : any) {\n    trigger(this, type, data);\n    return this;\n  },\n  offset : function(this : any) {\n    const off = { left : 0, top : 0 };\n    let base = null;\n    for (let e = this; e.parentNode != null; e = e.parentNode) {\n      if (e.offsetParent != null) {\n        base = e;\n        break;\n      }\n    }\n    if (base != null) {\n      for (let e = base; e.offsetParent != null; e = e.offsetParent) {\n        off.left += e.offsetLeft;\n        off.top += e.offsetTop;\n      }\n    }\n    for (let e = this; e.parentNode != null &&\n          e != document.body; e = e.parentNode) {\n      off.left -= e.scrollLeft;\n      off.top -= e.scrollTop;\n    }\n    return off;\n  },\n  append : function(this : HTMLElement, elms : any) {\n    if (typeof elms == 'string') {\n      elms = html(elms);\n    }\n    for (let i = 0; i < elms.length; i += 1) {\n      this.appendChild(elms[i]);\n    }\n    return this;\n  },\n  prepend : function(this : HTMLElement, elms : NodeList) {\n    if (typeof elms == 'string') {\n      elms = html(elms);\n    }\n    for (let i = 0; i < elms.length; i += 1) {\n      if (this.firstChild) {\n        this.insertBefore(elms[i], this.firstChild);\n      } else {\n        this.appendChild(elms[i]);\n      }\n    }\n    return this;\n  },\n  insertBefore : function(this : HTMLElement, elms : NodeList) {\n    const elm = elms[0];\n    elm.parentNode!.insertBefore(this, elm);\n    return this;\n  },\n  insertAfter : function(this : HTMLElement, elms : NodeList) {\n    const elm = elms[0];\n    if (elm.nextSibling) {\n      elm.parentNode!.insertBefore(this, elm.nextSibling);\n    } else {\n      elm.parentNode!.appendChild(this);\n    }\n    return this;\n  },\n  remove : function(this : HTMLElement) {\n    if (this.parentNode) { this.parentNode.removeChild(this); }\n    removeCache(this);\n    return this;\n  },\n  detach : function(this : HTMLElement) {\n    if (this.parentNode) { this.parentNode.removeChild(this); }\n    return this;\n  },\n  parent : function(this : HTMLElement) {\n    return $(this.parentNode);\n  },\n  closest : function(this : HTMLElement, selector : string) {\n    for (let e : Node = this; e != null; e = e.parentNode!) {\n      if (matches(e, selector) ) {\n        return $(e);\n      }\n    }\n    return $();\n  },\n  find : function(this : HTMLElement, selector : string) {\n    const elms : any = [];\n    const childNodes = this.querySelectorAll(selector);\n    for (let i = 0; i < childNodes.length; i += 1) {\n      elms.push(childNodes.item(i) );\n    }\n    elms.__proto__ = fn;\n    return elms;\n  },\n  children : function(this : HTMLElement, selector : string) {\n    const elms : any = [];\n    const childNodes = this.childNodes;\n    for (let i = 0; i < childNodes.length; i += 1) {\n      if (matches(childNodes.item(i), selector) ) {\n        elms.push(childNodes.item(i) );\n      }\n    }\n    elms.__proto__ = fn;\n    return elms;\n  },\n  index : function(selector : string) {\n    return Array.prototype.indexOf.call(\n        $(this).parent().children(selector), this);\n  },\n  clone : function(this : HTMLElement) { return $(this.cloneNode(true) ); },\n  focus : function() { this.focus(); return this; },\n  select : function() { this.select(); return this; },\n  submit : function() { this.submit(); return this; },\n  scrollLeft : function() {\n    if (arguments.length == 0) return this.scrollLeft;\n    this.scrollLeft = arguments[0]; return this;\n  },\n  scrollTop : function() {\n    if (arguments.length == 0) return this.scrollTop;\n    this.scrollTop = arguments[0]; return this;\n  },\n  html : function(this : HTMLElement) {\n    if (arguments.length == 0) return this.innerHTML;\n    this.innerHTML = arguments[0]; return this;\n  },\n  text : function(this : HTMLElement) {\n    if (typeof this.textContent != 'undefined') {\n      if (arguments.length == 0) return this.textContent;\n      this.textContent = arguments[0]; return this;\n    } else {\n      if (arguments.length == 0) return this.innerText;\n      this.innerText = arguments[0]; return this;\n    }\n  },\n  outerWidth : function(this : HTMLElement, margin? : boolean) {\n    const w = this.offsetWidth;\n    if (margin) {\n      const cs = window.getComputedStyle(this, null);\n      return w + pxToNum(cs.marginLeft) + pxToNum(cs.marginRight);\n    }\n    return w;\n  },\n  innerWidth : function(this : HTMLElement) {\n    const cs = window.getComputedStyle(this, null);\n    return this.offsetWidth -\n      pxToNum(cs.borderLeftWidth) - pxToNum(cs.borderRightWidth);\n  },\n  width : function(this : HTMLElement | Window) {\n    if (this == window) {\n      return this.innerWidth;\n    } else if (this instanceof HTMLElement) {\n      const cs = window.getComputedStyle(this, null);\n      return this.offsetWidth -\n        pxToNum(cs.borderLeftWidth) - pxToNum(cs.borderRightWidth) -\n        pxToNum(cs.paddingLeft) - pxToNum(cs.paddingRight);\n    } else {\n      throw this;\n    }\n  },\n  outerHeight : function(this : HTMLElement, margin? : boolean) {\n    const h = this.offsetHeight;\n    if (margin) {\n      const cs = window.getComputedStyle(this, null);\n      return h + pxToNum(cs.marginTop) + pxToNum(cs.marginBottom);\n    }\n    return h;\n  },\n  innerHeight : function(this : HTMLElement) {\n    const cs = window.getComputedStyle(this, null);\n    return this.offsetHeight -\n      pxToNum(cs.borderTopWidth) - pxToNum(cs.borderBottomWidth);\n  },\n  height : function(this : HTMLElement | Window) {\n    if (this == window) {\n      return this.innerHeight;\n    } else if (this instanceof HTMLElement) {\n      const cs = window.getComputedStyle(this, null);\n      return this.offsetHeight -\n        pxToNum(cs.borderTopWidth) - pxToNum(cs.borderBottomWidth) -\n        pxToNum(cs.paddingTop) - pxToNum(cs.paddingBottom);\n    } else {\n      throw this;\n    }\n  },\n  addClass : function(className : string) {\n    addClass(this, className, true); return this;\n  },\n  removeClass : function(className : string) {\n    addClass(this, className, false); return this;\n  },\n  hasClass : function(className : string) {\n    return hasClass(this, className);\n  }\n};\n\n// 2. to array\neach(fn, function(name, func) {\n  const _fn : any = fn;\n  _fn[name] = function() {\n    let newRet : any = null;\n    for (let i = 0; i < this.length; i += 1) {\n      const elm = this[i];\n      const ret = func.apply(elm, arguments);\n      if (elm !== ret) {\n        if (ret != null && ret.__proto__ == fn) {\n          if (newRet == null) { newRet = []; }\n          newRet = newRet.concat(ret);\n        } else {\n          return ret;\n        }\n      }\n    }\n    if (newRet != null) {\n      newRet.__proto__ = fn;\n      return newRet;\n    }\n    return this;\n  };\n});\n\n// 3. for array\nfn = extend(fn, {\n  each : function(this : any[], callback : (i : number) => void) {\n    for (let i = 0; i < this.length; i += 1) {\n      callback.call(this[i], i);\n    }\n    return this;\n  },\n  first : function(this : any[]) {\n    return $(this.length > 0? this[0] : null);\n  },\n  last : function(this : any[]) {\n    return $(this.length > 0? this[this.length - 1] : null);\n  }\n});\n\nconst $ = function(target? : any) : any {\n\n  if (typeof target == 'function') {\n\n    // ready\n    return $(document).on('DOMContentLoaded', target);\n\n  } else if (typeof target == 'string') {\n\n    if (target.charAt(0) == '<') {\n\n      // dom creation\n      return html(target);\n\n    } else {\n\n      // query\n      const childNodes = document.querySelectorAll(target);\n      const elms : any = [];\n      for (let i = 0; i < childNodes.length; i += 1) {\n        elms.push(childNodes.item(i) );\n      }\n      elms.__proto__ = fn;\n      return elms;\n    }\n\n  } else if (typeof target == 'object' && target != null) {\n\n    if (target.__proto__ == fn) {\n      return target;\n    } else {\n      const elms : any = [];\n      elms.push(target);\n      elms.__proto__ = fn;\n      return elms;\n    }\n\n  } else {\n\n    const elms : any = [];\n    elms.__proto__ = fn;\n    return elms;\n  }\n};\n\nconst lessQuery = extend($, {\n  fn : fn, extend : extend, each : each, grep : grep, data : data, ajax : ajax\n});\n\nexport default lessQuery;\n"],"names":["debug","cacheIdKey","cacheIdSeq","cache","getCache","elm","cacheId","hasCache","lastKeys","showCacheCount","cnt","keys","k","removeCache","listenerMap","type","listeners","i","getData","getListeners","addEventListener","listener","add","newListeners","CustomEvent","trigger","data","event","e","kv","extend","o1","o2","_o1","each","it","callback","grep","list","accept","newList","item","addClass","className","classes","newClasses","hasClass","matches","selector","sels","sel","parser","html","doc","elms","fn","pxToNum","px","buildQuery","query","parseResponse","contentType","ajax","params","method","xhr","done","fail","always","_data","$","_kv","args","types","off","base","childNodes","margin","w","cs","h","name","func","_fn","newRet","ret","target","lessQuery"],"mappings":"aAWA,MAAMA,EAAQ,SAAS,MAAQ,SAEzBC,EAAa,gBACnB,IAAIC,EAAa,EACjB,MAAMC,EAAc,CAAA,EAEdC,EAAW,SAASC,EAAW,CACnC,IAAIC,EAAUD,EAAIJ,CAAU,EAC5B,OAAI,OAAOK,EAAW,MACpBD,EAAIJ,CAAU,EAAIK,EAAUJ,IAC5BC,EAAMG,CAAO,EAAIN,EAAO,CAAE,EAAIK,CAAA,EAAQ,CAAA,GAEjCF,EAAMG,CAAO,CACtB,EAEMC,EAAW,SAASF,EAAW,CACnC,OAAO,OAAOA,EAAIJ,CAAU,EAAK,GACnC,EAEA,GAAID,EAAO,CACT,IAAIQ,EAAiB,CAAA,EACrB,MAAMC,EAAiB,UAAW,CAChC,IAAIC,EAAM,EACNC,EAAa,CAAA,EACjB,QAASC,KAAKT,EACZO,GAAO,EACFF,EAASI,CAAC,GACb,QAAQ,IAAIT,EAAMS,CAAC,CAAC,EAEtBD,EAAKC,CAAC,EAAI,GAEZJ,EAAWG,EACX,QAAQ,IAAI,cAAgBD,CAAG,EAC/B,OAAO,WAAWD,EAAgB,GAAI,CAAA,EAExCA,EAAA,CACF,CAEA,MAAMI,EAAc,SAASR,EAAW,CAEtC,GAAI,OAAOA,EAAIJ,CAAU,EAAK,IAAa,CAGzC,MAAMK,EAAUD,EAAIJ,CAAU,EACxBa,EAAcX,EAAMG,CAAO,EAAE,YACnC,QAASS,KAAQD,EAAa,CAC5B,MAAME,EAAYF,EAAYC,CAAI,EAClC,QAASE,EAAI,EAAGA,EAAID,EAAU,OAAQC,GAAK,EACzCZ,EAAI,oBAAoBU,EAAMC,EAAUC,CAAC,CAAC,CAC5C,CAIF,OAAOZ,EAAIJ,CAAU,EACrB,OAAOE,EAAMG,CAAO,CAAA,CAGtB,KAAOD,EAAI,YACTQ,EAAYR,EAAI,UAAU,EAC1BA,EAAI,YAAYA,EAAI,UAAU,CAElC,EAEMa,EAAU,SAASb,EAAW,CAClC,OAAKD,EAASC,CAAG,EAAE,OAAQD,EAASC,CAAG,EAAE,KAAO,CAAA,GACzCD,EAASC,CAAG,EAAE,IACvB,EAEMc,EAAe,SAASd,EAAWU,EAAe,CACtD,OAAKX,EAASC,CAAG,EAAE,cACjBD,EAASC,CAAG,EAAE,YAAc,CAAA,GACzBD,EAASC,CAAG,EAAE,YAAYU,CAAI,IACjCX,EAASC,CAAG,EAAE,YAAYU,CAAI,EAAI,CAAA,GAC7BX,EAASC,CAAG,EAAE,YAAYU,CAAI,CACvC,EAGMK,EAAmB,SAASf,EAAWU,EAAeM,EAAuBC,EAAe,CAChG,MAAMN,EAAYG,EAAad,EAAKU,CAAI,EAClCQ,EAAe,CAAA,EACrB,QAASN,EAAI,EAAGA,EAAID,EAAU,OAAQC,GAAK,EACrCD,EAAUC,CAAC,GAAKI,GAClBE,EAAa,KAAKP,EAAUC,CAAC,CAAC,EAGlC,OAAIK,GAAOC,EAAa,KAAKF,CAAQ,EACrCjB,EAASC,CAAG,EAAE,YAAYU,CAAI,EAAIQ,EAC3B,EACT,EAEMC,EAAoB,CACxB,eAAiB,UAAW,CAAE,KAAK,IAAM,EAAA,EACzC,gBAAkB,UAAW,CAAE,KAAK,IAAM,EAAA,EAC1C,yBAA2B,UAAW,CAAE,KAAK,KAAO,EAAA,CACtD,EAEMC,EAAU,SAASpB,EAAWU,EAAeW,EAAY,CAC7D,MAAMC,EAAQ,CAAE,KAAAZ,EAAa,OAASV,EAAK,cAAgB,KACvD,IAAM,GAAO,IAAM,GAAO,KAAO,GAAO,UAAYmB,CAAA,EACxD,QAASI,EAAIvB,EAAKuB,GAAK,KAAMA,EAAIA,EAAE,WAAY,CAG7C,GAFI,CAACrB,EAASqB,CAAC,GACX,CAACxB,EAASwB,CAAC,EAAE,aACb,CAACxB,EAASwB,CAAC,EAAE,YAAYb,CAAI,EAAK,SACtCY,EAAM,cAAgBC,EACtB,MAAMZ,EAAYZ,EAASwB,CAAC,EAAE,YAAYb,CAAI,EAC9C,QAASE,EAAI,EAAGA,EAAID,EAAU,OAAQC,GAAK,EAEzC,GADAD,EAAUC,CAAC,EAAE,KAAKW,EAAGD,EAAOD,CAAI,EAC5BC,EAAM,KAAQ,OAEpB,GAAIA,EAAM,IAAO,MAAQ,CAE7B,EAEMD,EAAO,SAASrB,EAAWwB,EAAU,CACzC,GAAI,UAAU,QAAU,EAAG,CACzB,GAAI,OAAOA,GAAM,gBAAiBX,EAAQb,CAAG,EAAEwB,CAAE,EACjD,QAASjB,KAAKiB,EAAMX,EAAQb,CAAG,EAAEO,CAAC,EAAIiB,EAAGjB,CAAC,CAAG,MACpC,UAAU,QAAU,IAC7BM,EAAQb,CAAG,EAAEwB,CAAE,EAAI,UAAU,CAAC,GAEhC,OAAOxB,CACT,EAIMyB,EAAS,SAA+BC,EAAQC,EAAY,CAChE,MAAMC,EAAYF,EAClB,QAASnB,KAAKoB,EAAMC,EAAIrB,CAAC,EAAIoB,EAAGpB,CAAC,EAAK,OAAOqB,CAC/C,EAEMC,EAAO,SAASC,EAAUC,EAAmD,CACjF,GAAI,OAAOD,EAAG,QAAU,WACtB,QAASlB,EAAI,EAAGA,EAAIkB,EAAG,OAAQlB,GAAK,EAAKmB,EAASnB,EAAGkB,EAAGlB,CAAC,CAAC,MAE1D,SAASL,KAAKuB,EAAMC,EAASxB,EAAGuB,EAAGvB,CAAC,CAAC,CAEzC,EAEMyB,EAAO,SAASC,EAAcC,EAA+B,CACjE,MAAMC,EAAU,CAAA,EAChB,QAAS,EAAI,EAAG,EAAIF,EAAK,OAAQ,GAAK,EAAG,CACvC,MAAMG,EAAOH,EAAK,CAAC,EACfC,EAAOE,CAAI,GACbD,EAAQ,KAAKC,CAAI,CACnB,CAEF,OAAOD,CACT,EAEME,EAAW,SAASrC,EAAWsC,EAAoBrB,EAAgB,CACvE,MAAMsB,GAAWvC,EAAI,aAAa,OAAO,GAAK,IAAI,MAAM,MAAM,EAC9D,IAAIwC,EAAa,GACjB,QAAS5B,EAAI,EAAGA,EAAI2B,EAAQ,OAAQ3B,GAAI,EAClC2B,EAAQ3B,CAAC,GAAK0B,IAClBE,GAAc,IAAMD,EAAQ3B,CAAC,GAE3BK,IAAOuB,GAAc,IAAMF,GAC/BtC,EAAI,aAAa,QAASwC,CAAU,CACtC,EAEMC,EAAW,SAASzC,EAAWsC,EAAoB,CACvD,MAAMC,GAAWvC,EAAI,aAAa,OAAO,GAAK,IAAI,MAAM,MAAM,EAC9D,QAAS,EAAI,EAAG,EAAIuC,EAAQ,OAAQ,GAAI,EACtC,GAAIA,EAAQ,CAAC,GAAKD,EAAa,MAAO,GAExC,MAAO,EACT,EAEMI,EAAU,SAAS1C,EAAW2C,EAAmB,CACrD,GAAI3C,EAAI,UAAY,EAClB,MAAO,GACT,GAAW,CAAC2C,EACV,MAAO,GAET,MAAMC,EAAOD,EAAS,MAAM,SAAS,EACrC,QAAS,EAAI,EAAG,EAAIC,EAAK,OAAQ,GAAK,EAAG,CACvC,MAAMC,EAAMD,EAAK,CAAC,EAClB,GAAIC,EAAI,UAAU,EAAG,CAAC,GAAK,IACzB,KAAM,iBAAmBA,KAChBA,EAAI,UAAU,EAAG,CAAC,GAAK,KAChC,GAAIJ,EAASzC,EAAK6C,EAAI,UAAU,CAAC,CAAE,EACjC,MAAO,WAGL7C,EAAI,QAAQ,YAAA,GAAiB6C,EAAI,cACnC,MAAO,EAEX,CAEF,MAAO,EACT,EAEMC,EAAS,IAAI,OAAO,UAEpBC,EAAO,SAASA,EAAe,CACnC,MAAMC,EAAYF,EAAO,gBACrB,6CAA+CC,EAAO,SACtD,UAAA,EAAY,WACVE,EAAa,CAAA,EACnB,KAAOD,EAAI,YACTC,EAAK,KAAKD,EAAI,UAAU,EACxBA,EAAI,YAAYA,EAAI,UAAU,EAEhC,OAAAC,EAAK,UAAYC,EACVD,CACT,EAEME,EAAU,SAASC,EAAU,CACjC,GAAI,OAAOA,GAAM,UAAYA,EAAG,QAAU,GACtCA,EAAG,OAAOA,EAAG,OAAS,CAAC,GAAK,KAC5BA,EAAG,OAAOA,EAAG,OAAS,CAAC,GAAK,IAC9B,KAAM,cAAgBA,EAExB,MAAO,CAACA,EAAG,UAAU,EAAGA,EAAG,OAAS,CAAC,CACvC,EAEMC,EAAa,SAAShC,EAAY,CACtC,IAAIiC,EAAQ,GACZ,QAAS/C,KAAKc,EACRiC,EAAM,OAAS,IACjBA,GAAS,KAEXA,GAAS,OAAO,mBAAmB/C,CAAC,EACpC+C,GAAS,IACTA,GAAS,OAAO,mBAAmBjC,EAAKd,CAAC,CAAC,EAE5C,OAAO+C,CACT,EAEMC,EAAgB,UAAqB,CAEvC,IAAIC,EAAc,KAAK,kBAAkB,cAAc,EAKzD,OAJIA,GAAe,OACjBA,EAAcA,EAAY,QAAQ,UAAW,EAAE,EAAE,YAAA,GAG/CA,GAAe,YACbA,GAAe,kBACZV,EAAO,gBAAgB,KAAK,aAAc,UAAU,EAClDU,GAAe,aACtBA,GAAe,mBACV,KAAK,MAAM,KAAK,YAAY,EAE5B,KAAK,QAEhB,EAEMC,EAAO,SAASC,EAAc,CAWlC,GATAA,EAASjC,EAAO,CACd,IAAK,GACL,OAAS,MACT,YAAc,kDACd,MAAO,GACP,YAAa,GACb,MAAQ,EAAA,EACPiC,CAAM,EAEL,CAACA,EAAO,MAEV,KAAM,iBAGR,MAAMC,EAASD,EAAO,OAAO,YAAA,EAC7B,IAAIrC,EAAO,KACPmC,EAAcE,EAAO,YACrBC,GAAU,QAAUA,GAAU,MAChCtC,EAAQ,OAAOqC,EAAO,MAAQ,UAAYA,EAAO,YAC7CL,EAAWK,EAAO,IAAI,EAAIA,EAAO,KAErCF,EAAc,GAGhB,MAAMI,EAAMF,EAAO,IAAKA,EAAO,MAAQ,IAAI,OAAO,eAClDE,EAAI,KAAKD,EAAQD,EAAO,IAAKA,EAAO,KAAK,EACrCF,IAAgB,IAClBI,EAAI,iBAAiB,eAAgBJ,CAAW,EAElDI,EAAI,mBAAqB,UAAW,CAClC,GAAGA,EAAI,YAAc,OAAO,eAAe,KACzC,GAAI,CACEA,EAAI,QAAU,IAChBC,EAAK,KAAKD,EAAKL,EAAc,KAAK,IAAI,CAAE,EAExCO,EAAK,KAAKF,CAAG,CACf,QACF,CACEG,EAAO,KAAKH,CAAG,CAAA,CAEnB,EAIF,OAAO,WAAW,UAAW,CAAEA,EAAI,KAAKvC,CAAI,CAAA,EAAM,CAAC,EAGnD,IAAIwC,EAAO,SAASG,EAAa,CAAA,EAC7BF,EAAO,UAAW,CAAA,EAClBC,EAAS,UAAW,CAAA,EAExB,MAAME,EAAI,CACR,KAAO,SAASlC,EAAgB,CAAE,OAAA8B,EAAO9B,EAAiBkC,CAAA,EAC1D,KAAO,SAASlC,EAAgB,CAAE,OAAA+B,EAAO/B,EAAiBkC,CAAA,EAC1D,OAAS,SAASlC,EAAgB,CAAE,OAAAgC,EAAShC,EAAiBkC,CAAA,EAC9D,MAAQ,UAAW,CAAE,OAAAL,EAAI,MAAA,EAAgBK,CAAA,CAAG,EAE9C,OAAOA,CACT,EAGA,IAAIf,EAAK,CACP,KAAO,SAAqB1B,EAAU,CACpC,GAAI,UAAU,QAAU,EAAG,CACzB,GAAI,OAAOA,GAAM,SAAU,OAAO,KAAK,aAAaA,CAAE,EACtD,QAASjB,KAAKiB,EAAM,KAAK,aAAajB,EAAGiB,EAAGjB,CAAC,CAAC,CAAG,MACxC,UAAU,QAAU,GAC7B,KAAK,aAAaiB,EAAI,UAAU,CAAC,CAAC,EAEpC,OAAO,IAAA,EAET,KAAO,SAAqBA,EAAU,CACpC,GAAI,UAAU,QAAU,EAAG,CACzB,GAAI,OAAOA,GAAM,SAAU,OAAO,KAAKA,CAAE,EACzC,QAASjB,KAAKiB,EAAM,KAAKjB,CAAC,EAAIiB,EAAGjB,CAAC,CAAG,MAC5B,UAAU,QAAU,IAC7B,KAAKiB,CAAE,EAAI,UAAU,CAAC,GAExB,OAAO,IAAA,EAET,IAAM,SAAqBA,EAAU,CACnC,GAAI,UAAU,QAAU,EAAG,CACzB,GAAI,OAAOA,GAAM,SAAU,OAAO,KAAK,MAAMA,CAAE,EAC/C,QAASjB,KAAKiB,EAAM,KAAK,MAAMjB,CAAC,EAAIiB,EAAGjB,CAAC,CAAG,MAClC,UAAU,QAAU,IAC7B,KAAK,MAAMiB,CAAE,EAAI,UAAU,CAAC,GAE9B,OAAO,IAAA,EAET,KAAO,SAAqB0C,EAAW,CACrC,MAAMC,EAAa,CAAE,IAAK,EAC1B,QAASvD,EAAI,EAAGA,EAAI,UAAU,OAAQA,GAAK,EACzCuD,EAAK,KAAK,UAAUvD,CAAC,CAAC,EAExB,OAAOS,EAAK,MAAM,KAAM8C,CAAI,CAAA,EAE9B,IAAM,UAAqB,CACzB,OAAI,UAAU,QAAU,EACf,KAAK,OAAS,IACZ,UAAU,QAAU,IAC7B,KAAK,MAAQ,UAAU,CAAC,GAEnB,KAAA,EAET,GAAK,SAAqBzD,EAAeM,EAAgB,CACvD,MAAMoD,EAAQ1D,EAAK,MAAM,MAAM,EAC/B,QAAS,EAAI,EAAG,EAAI0D,EAAM,OAAQ,GAAK,EACrC,KAAK,iBAAiBA,EAAM,CAAC,EAAGpD,CAAQ,EACxCD,EAAiB,KAAMqD,EAAM,CAAC,EAAGpD,EAAU,EAAI,EAEjD,OAAO,IAAA,EAET,IAAM,SAAqBN,EAAeM,EAAgB,CACxD,MAAMoD,EAAQ1D,EAAK,MAAM,MAAM,EAC/B,QAAS,EAAI,EAAG,EAAI0D,EAAM,OAAQ,GAAK,EACrC,KAAK,oBAAoBA,EAAM,CAAC,EAAGpD,CAAQ,EAC3CD,EAAiB,KAAMqD,EAAM,CAAC,EAAGpD,EAAU,EAAK,EAElD,OAAO,IAAA,EAET,QAAU,SAASN,EAAeW,EAAY,CAC5C,OAAAD,EAAQ,KAAMV,EAAMW,CAAI,EACjB,IAAA,EAET,OAAS,UAAqB,CAC5B,MAAMgD,EAAM,CAAE,KAAO,EAAG,IAAM,CAAA,EAC9B,IAAIC,EAAO,KACX,QAAS/C,EAAI,KAAMA,EAAE,YAAc,KAAMA,EAAIA,EAAE,WAC7C,GAAIA,EAAE,cAAgB,KAAM,CAC1B+C,EAAO/C,EACP,KAAA,CAGJ,GAAI+C,GAAQ,KACV,QAAS/C,EAAI+C,EAAM/C,EAAE,cAAgB,KAAMA,EAAIA,EAAE,aAC/C8C,EAAI,MAAQ9C,EAAE,WACd8C,EAAI,KAAO9C,EAAE,UAGjB,QAASA,EAAI,KAAMA,EAAE,YAAc,MAC7BA,GAAK,SAAS,KAAMA,EAAIA,EAAE,WAC9B8C,EAAI,MAAQ9C,EAAE,WACd8C,EAAI,KAAO9C,EAAE,UAEf,OAAO8C,CAAA,EAET,OAAS,SAA6BpB,EAAY,CAC5C,OAAOA,GAAQ,WACjBA,EAAOF,EAAKE,CAAI,GAElB,QAASrC,EAAI,EAAGA,EAAIqC,EAAK,OAAQrC,GAAK,EACpC,KAAK,YAAYqC,EAAKrC,CAAC,CAAC,EAE1B,OAAO,IAAA,EAET,QAAU,SAA6BqC,EAAiB,CAClD,OAAOA,GAAQ,WACjBA,EAAOF,EAAKE,CAAI,GAElB,QAASrC,EAAI,EAAGA,EAAIqC,EAAK,OAAQrC,GAAK,EAChC,KAAK,WACP,KAAK,aAAaqC,EAAKrC,CAAC,EAAG,KAAK,UAAU,EAE1C,KAAK,YAAYqC,EAAKrC,CAAC,CAAC,EAG5B,OAAO,IAAA,EAET,aAAe,SAA6BqC,EAAiB,CAC3D,MAAMjD,EAAMiD,EAAK,CAAC,EAClB,OAAAjD,EAAI,WAAY,aAAa,KAAMA,CAAG,EAC/B,IAAA,EAET,YAAc,SAA6BiD,EAAiB,CAC1D,MAAMjD,EAAMiD,EAAK,CAAC,EAClB,OAAIjD,EAAI,YACNA,EAAI,WAAY,aAAa,KAAMA,EAAI,WAAW,EAElDA,EAAI,WAAY,YAAY,IAAI,EAE3B,IAAA,EAET,OAAS,UAA6B,CACpC,OAAI,KAAK,YAAc,KAAK,WAAW,YAAY,IAAI,EACvDQ,EAAY,IAAI,EACT,IAAA,EAET,OAAS,UAA6B,CACpC,OAAI,KAAK,YAAc,KAAK,WAAW,YAAY,IAAI,EAChD,IAAA,EAET,OAAS,UAA6B,CACpC,OAAOyD,EAAE,KAAK,UAAU,CAAA,EAE1B,QAAU,SAA6BtB,EAAmB,CACxD,QAAS,EAAW,KAAM,GAAK,KAAM,EAAI,EAAE,WACzC,GAAID,EAAQ,EAAGC,CAAQ,EACrB,OAAOsB,EAAE,CAAC,EAGd,OAAOA,EAAA,CAAE,EAEX,KAAO,SAA6BtB,EAAmB,CACrD,MAAMM,EAAa,CAAA,EACbsB,EAAa,KAAK,iBAAiB5B,CAAQ,EACjD,QAAS,EAAI,EAAG,EAAI4B,EAAW,OAAQ,GAAK,EAC1CtB,EAAK,KAAKsB,EAAW,KAAK,CAAC,CAAE,EAE/B,OAAAtB,EAAK,UAAYC,EACVD,CAAA,EAET,SAAW,SAA6BN,EAAmB,CACzD,MAAMM,EAAa,CAAA,EACbsB,EAAa,KAAK,WACxB,QAAS,EAAI,EAAG,EAAIA,EAAW,OAAQ,GAAK,EACtC7B,EAAQ6B,EAAW,KAAK,CAAC,EAAG5B,CAAQ,GACtCM,EAAK,KAAKsB,EAAW,KAAK,CAAC,CAAE,EAGjC,OAAAtB,EAAK,UAAYC,EACVD,CAAA,EAET,MAAQ,SAASN,EAAmB,CAClC,OAAO,MAAM,UAAU,QAAQ,KAC3BsB,EAAE,IAAI,EAAE,OAAA,EAAS,SAAStB,CAAQ,EAAG,IAAA,CAAI,EAE/C,MAAQ,UAA6B,CAAE,OAAOsB,EAAE,KAAK,UAAU,EAAI,CAAE,CAAA,EACrE,MAAQ,UAAW,CAAE,YAAK,MAAA,EAAgB,IAAA,EAC1C,OAAS,UAAW,CAAE,YAAK,OAAA,EAAiB,IAAA,EAC5C,OAAS,UAAW,CAAE,YAAK,OAAA,EAAiB,IAAA,EAC5C,WAAa,UAAW,CACtB,OAAI,UAAU,QAAU,EAAU,KAAK,YACvC,KAAK,WAAa,UAAU,CAAC,EAAU,KAAA,EAEzC,UAAY,UAAW,CACrB,OAAI,UAAU,QAAU,EAAU,KAAK,WACvC,KAAK,UAAY,UAAU,CAAC,EAAU,KAAA,EAExC,KAAO,UAA6B,CAClC,OAAI,UAAU,QAAU,EAAU,KAAK,WACvC,KAAK,UAAY,UAAU,CAAC,EAAU,KAAA,EAExC,KAAO,UAA6B,CAClC,OAAI,OAAO,KAAK,YAAe,IACzB,UAAU,QAAU,EAAU,KAAK,aACvC,KAAK,YAAc,UAAU,CAAC,EAAU,MAEpC,UAAU,QAAU,EAAU,KAAK,WACvC,KAAK,UAAY,UAAU,CAAC,EAAU,KACxC,EAEF,WAAa,SAA6BO,EAAmB,CAC3D,MAAMC,EAAI,KAAK,YACf,GAAID,EAAQ,CACV,MAAME,EAAK,OAAO,iBAAiB,KAAM,IAAI,EAC7C,OAAOD,EAAItB,EAAQuB,EAAG,UAAU,EAAIvB,EAAQuB,EAAG,WAAW,CAAA,CAE5D,OAAOD,CAAA,EAET,WAAa,UAA6B,CACxC,MAAMC,EAAK,OAAO,iBAAiB,KAAM,IAAI,EAC7C,OAAO,KAAK,YACVvB,EAAQuB,EAAG,eAAe,EAAIvB,EAAQuB,EAAG,gBAAgB,CAAA,EAE7D,MAAQ,UAAsC,CAC5C,GAAI,MAAQ,OACV,OAAO,KAAK,WACd,GAAW,gBAAgB,YAAa,CACtC,MAAMA,EAAK,OAAO,iBAAiB,KAAM,IAAI,EAC7C,OAAO,KAAK,YACVvB,EAAQuB,EAAG,eAAe,EAAIvB,EAAQuB,EAAG,gBAAgB,EACzDvB,EAAQuB,EAAG,WAAW,EAAIvB,EAAQuB,EAAG,YAAY,CAAA,KAEnD,OAAM,IACR,EAEF,YAAc,SAA6BF,EAAmB,CAC5D,MAAMG,EAAI,KAAK,aACf,GAAIH,EAAQ,CACV,MAAME,EAAK,OAAO,iBAAiB,KAAM,IAAI,EAC7C,OAAOC,EAAIxB,EAAQuB,EAAG,SAAS,EAAIvB,EAAQuB,EAAG,YAAY,CAAA,CAE5D,OAAOC,CAAA,EAET,YAAc,UAA6B,CACzC,MAAMD,EAAK,OAAO,iBAAiB,KAAM,IAAI,EAC7C,OAAO,KAAK,aACVvB,EAAQuB,EAAG,cAAc,EAAIvB,EAAQuB,EAAG,iBAAiB,CAAA,EAE7D,OAAS,UAAsC,CAC7C,GAAI,MAAQ,OACV,OAAO,KAAK,YACd,GAAW,gBAAgB,YAAa,CACtC,MAAMA,EAAK,OAAO,iBAAiB,KAAM,IAAI,EAC7C,OAAO,KAAK,aACVvB,EAAQuB,EAAG,cAAc,EAAIvB,EAAQuB,EAAG,iBAAiB,EACzDvB,EAAQuB,EAAG,UAAU,EAAIvB,EAAQuB,EAAG,aAAa,CAAA,KAEnD,OAAM,IACR,EAEF,SAAW,SAASpC,EAAoB,CACtC,OAAAD,EAAS,KAAMC,EAAW,EAAI,EAAU,IAAA,EAE1C,YAAc,SAASA,EAAoB,CACzC,OAAAD,EAAS,KAAMC,EAAW,EAAK,EAAU,IAAA,EAE3C,SAAW,SAASA,EAAoB,CACtC,OAAOG,EAAS,KAAMH,CAAS,CAAA,CAEnC,EAGAT,EAAKqB,EAAI,SAAS0B,EAAMC,EAAM,CAC5B,MAAMC,EAAY5B,EAClB4B,EAAIF,CAAI,EAAI,UAAW,CACrB,IAAIG,EAAe,KACnB,QAASnE,EAAI,EAAGA,EAAI,KAAK,OAAQA,GAAK,EAAG,CACvC,MAAMZ,EAAM,KAAKY,CAAC,EACZoE,EAAMH,EAAK,MAAM7E,EAAK,SAAS,EACrC,GAAIA,IAAQgF,EACV,GAAIA,GAAO,MAAQA,EAAI,WAAa9B,EAC9B6B,GAAU,OAAQA,EAAS,CAAA,GAC/BA,EAASA,EAAO,OAAOC,CAAG,MAE1B,QAAOA,CAEX,CAEF,OAAID,GAAU,MACZA,EAAO,UAAY7B,EACZ6B,GAEF,IAAA,CAEX,CAAC,EAGD7B,EAAKzB,EAAOyB,EAAI,CACd,KAAO,SAAuBnB,EAAiC,CAC7D,QAASnB,EAAI,EAAGA,EAAI,KAAK,OAAQA,GAAK,EACpCmB,EAAS,KAAK,KAAKnB,CAAC,EAAGA,CAAC,EAE1B,OAAO,IAAA,EAET,MAAQ,UAAuB,CAC7B,OAAOqD,EAAE,KAAK,OAAS,EAAG,KAAK,CAAC,EAAI,IAAI,CAAA,EAE1C,KAAO,UAAuB,CAC5B,OAAOA,EAAE,KAAK,OAAS,EAAG,KAAK,KAAK,OAAS,CAAC,EAAI,IAAI,CAAA,CAE1D,CAAC,EAED,MAAMA,EAAI,SAASgB,EAAqB,CAEtC,GAAI,OAAOA,GAAU,WAGnB,OAAOhB,EAAE,QAAQ,EAAE,GAAG,mBAAoBgB,CAAM,EAElD,GAAW,OAAOA,GAAU,SAAU,CAEpC,GAAIA,EAAO,OAAO,CAAC,GAAK,IAGtB,OAAOlC,EAAKkC,CAAM,EAEb,CAGL,MAAMV,EAAa,SAAS,iBAAiBU,CAAM,EAC7ChC,EAAa,CAAA,EACnB,QAAS,EAAI,EAAG,EAAIsB,EAAW,OAAQ,GAAK,EAC1CtB,EAAK,KAAKsB,EAAW,KAAK,CAAC,CAAE,EAE/B,OAAAtB,EAAK,UAAYC,EACVD,CAAA,CACT,SAES,OAAOgC,GAAU,UAAYA,GAAU,KAAM,CAEtD,GAAIA,EAAO,WAAa/B,EACtB,OAAO+B,EACF,CACL,MAAMhC,EAAa,CAAA,EACnB,OAAAA,EAAK,KAAKgC,CAAM,EAChBhC,EAAK,UAAYC,EACVD,CAAA,CACT,KAEK,CAEL,MAAMA,EAAa,CAAA,EACnB,OAAAA,EAAK,UAAYC,EACVD,CAAA,CAEX,EAEMiC,EAAYzD,EAAOwC,EAAG,CAC1B,GAAAf,EAAS,OAAAzB,EAAiB,KAAAI,EAAa,KAAAG,EAAa,KAAAX,EAAa,KAAAoC,CACnE,CAAC"}